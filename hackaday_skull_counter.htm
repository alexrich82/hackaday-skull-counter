<html>

  <head>
    
    <style>
    /* Some quick styling to somewhat match hackaday.io */
      body {
        color: #bd9f5c;
        background-color: black;
        text-align:center;
      }
      #skullcounter { 
        color: #bd9f5c;
        background-color: black;
        font-family: 'Letter Gothic Std', Letter-Gothic-Std, LetterGothicStd, 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 16px;
        position: relative;
        display: inline-block;
        height: 40px;
        padding: 5px 20px;
        margin: 10px 10px 2px 10px;
        border: 2px solid #bd9f5c;
        border-radius: 25px;
      }
      #skullcounter img {
        vertical-align: middle;
        height: 100%;
      }
      #skullcounter #skullcount {
        margin-left: 10px;
        display: inline-block;
        height: 100%;
        font-weight: bold;
      }
      #smallskulltext {
        color: #bd9f5c;
        font-size: 10px;
      }
    </style>
    
  </head>
  
  <body>
    <h1> Skull counter for hackaday.io project "Stickvise"</h1>
    <span>
      <div style="color: #bd9f5c"><b>Skull my project at Hackaday.io</b></div>
        <a href="https://hackaday.io/project/3287-stickvise-low-profile-soldering-vise">
          <div id="skullcounter">
            <img src="img/HAD_logo_gold.png" />
            <span id="skullcount"></span>
          </div>
        </a>
      <div id="smallskulltext">Skull Counter</div>
    </span>
  
  </body>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  
  <script>
  
  // immediately execute getskulls function
  $(function() {
  
    getskulls();
  
  }); // end $(
  
  // uses ajax to get skull count from a php file, repeats on a 10 second timer so it will update without page refresh
  // the php file may use a cached or fresh value for skulls depending on the timing set in that file
  
  function getskulls() {
  
    $.get("skullcount/return_skulls.php", function(result) {
    
      $('#skullcounter span').html(result);
      
    }) // end $.get(
    
    .done(function() { // chain this to the end of the $.get( function to restart the getskulls function on a timer
    
      setTimeout(getskulls, 10000); // refresh value every 10 seconds
      
    }); // end .done(
    
  } // end getskulls()
  
  </script>
  
</html>